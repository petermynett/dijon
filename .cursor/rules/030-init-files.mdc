---
description: Standards for using __init__.py as package markers and thin public API routers (safe to import; no side effects).
globs:
  - "**/__init__.py"
alwaysApply: false
---

# __init__.py Pattern

__init__.py files MUST be safe to import in any environment. They are for package marking and thin public API routing, not logic.

## Allowed

- Package metadata (module/package docstring, static constants like __version__)
- Curated public API re-exports of stable entrypoints or types
- Defining __all__ to make the public surface explicit

## Forbidden

- Any side effects on import:
  - opening files or DB connections
  - network calls
  - reading or writing config
  - plugin registration or import-time “magic”
- Business logic implemented directly in __init__.py
- Wildcard imports (from .module import *)

## Import Safety Contract

Importing a package’s __init__.py MUST be:

- Fast — no heavy work or expensive imports
- Idempotent — does not mutate global state
- Side-effect free — no I/O, no network, no configuration loading
- Deterministic — same behavior regardless of environment or runtime order

## Notes

- Prefer re-exporting from leaf modules (e.g., .core, .types) to reduce circular import risk